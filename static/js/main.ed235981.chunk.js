(this["webpackJsonpreact-chat"]=this["webpackJsonpreact-chat"]||[]).push([[0],{116:function(e,t,n){},117:function(e,t,n){},119:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(1),a=n.n(s),i=n(52),o=n.n(i),l=(n(61),n(2)),r=(n(62),n(55)),j=n(53),u=n.n(j)()("http://localhost:2070",{transports:["websocket","io","polling","flashsocket"]}),d=(n(92),n(54)),h=n.n(d),b=function(){var e=Object(s.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],i=Object(s.useState)([]),o=Object(l.a)(i,2),j=o[0],d=o[1];Object(s.useEffect)((function(){u.once("allData",(function(e){d(e),console.log(e)})),u.on("data_chat_back_one",(function(e){d((function(t){return[].concat(Object(r.a)(t),[e])}))}))}),[]);var b=function(){if(n){var e=Date.now();u.emit("msg_from_front",{name:m,message:n,date:e}),a("")}},m=localStorage.getItem("name");return Object(c.jsxs)("div",{className:"Chat",children:[Object(c.jsx)(h.a,{debug:!1,className:"chatWindow",children:j.map((function(e,t){var n=e.name,s=e.message,a=e.date,i=new Date(a),o=i.getMinutes()>=10?String(i.getHours())+":"+String(i.getMinutes()):String(i.getHours())+":0"+String(i.getMinutes());return Object(c.jsxs)("div",{className:n===m?"chatItem myMsg":"chatItem",children:[Object(c.jsxs)("div",{className:"dateName",children:[Object(c.jsx)("span",{children:n===m?"\u0412\u044b":n}),Object(c.jsx)("p",{children:o})]}),Object(c.jsx)("p",{className:"message",children:s})]},t)}))}),Object(c.jsxs)("div",{className:"msgBar",children:[Object(c.jsx)("input",{className:"msgInput",placeholder:"\u0412\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 ...",value:n,onChange:function(e){a(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&b()}}),Object(c.jsxs)("svg",{className:"msgButton",width:"61",height:"61",viewBox:"0 0 61 61",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:b,children:[Object(c.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M30.9236 60.1274C47.4922 60.1274 60.9236 46.696 60.9236 30.1274C60.9236 13.5589 47.4922 0.127441 30.9236 0.127441C14.3551 0.127441 0.923645 13.5589 0.923645 30.1274C0.923645 46.696 14.3551 60.1274 30.9236 60.1274Z",fill:"#DBE6FA"}),Object(c.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M38.9236 22.1274L27.9236 33.1274L38.9236 22.1274Z",fill:"black","fill-opacity":"0.01"}),Object(c.jsx)("path",{d:"M38.9236 22.1274L27.9236 33.1274",stroke:"#343C4B"}),Object(c.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M38.9236 22.1274L31.9236 41.1274L27.9236 33.1274L19.9236 29.1274L38.9236 22.1274Z",fill:"black","fill-opacity":"0.01"}),Object(c.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M38.9236 22.1274L31.9236 41.1274L27.9236 33.1274L19.9236 29.1274L38.9236 22.1274Z",stroke:"#343C4B","stroke-linecap":"square"})]})]})]})},m=(n(116),function(e){var t=Object(s.useState)(""),n=Object(l.a)(t,2),a=n[0],i=n[1];function o(){a?(e.hasUser(!0),u.once("check_username",(function(t){if(console.log(t),t)return alert("\u0418\u043c\u044f \u0437\u0430\u043d\u044f\u0442\u043e, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0435 \u0438\u043c\u044f."),e.hasUser(!1),void localStorage.setItem("name","")})),console.log(a),localStorage.setItem("name",a),u.emit("new_user_connected",a)):alert("\u0412\u044b \u043d\u0435 \u0432\u0432\u0435\u043b\u0438 \u0438\u043c\u044f.")}return Object(c.jsxs)("div",{className:"LoginBar",children:[Object(c.jsx)("h1",{children:"Friends Chat"}),Object(c.jsxs)("div",{className:"loginGroup",children:[Object(c.jsx)("input",{placeholder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",onChange:function(e){i(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&o()},value:a}),Object(c.jsx)("button",{onClick:o,children:"\u0412\u043e\u0439\u0442\u0438"})]})]})}),f=(n(117),function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),n=t[0],a=t[1],i=Object(s.useState)([]),o=Object(l.a)(i,2),r=o[0],j=o[1];return Object(s.useEffect)((function(){u.on("online_users",(function(e){j(e),console.log(e)}))}),[]),Object(c.jsxs)("div",{className:n?"Users Active":"Users",children:[Object(c.jsxs)("div",{className:"userTopBar",children:[Object(c.jsx)("h1",{children:"Friends Chat"}),Object(c.jsxs)("svg",{className:"MenuButton",width:"22",height:"16",viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:function(){a(!n)},children:[Object(c.jsx)("path",{d:"M0.130859 8.21143L21.4327 8.21143",stroke:"white","stroke-width":"2"}),Object(c.jsx)("path",{d:"M0.130859 1.51294L21.4327 1.51294",stroke:"white","stroke-width":"2"}),Object(c.jsx)("path",{d:"M0.130859 14.9099L21.4327 14.9099",stroke:"white","stroke-width":"2"})]})]}),Object(c.jsx)("div",{className:n?"userList Show":"userList",children:r.map((function(e,t){return Object(c.jsx)("div",{className:"userItem",children:e.name},t)}))})]})});var g=function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(s.useEffect)((function(){localStorage.getItem("name")&&(u.emit("new_user_connected",localStorage.getItem("name")),a(!0))}),[]),Object(c.jsx)("div",{className:"App",children:n?Object(c.jsxs)(s.Fragment,{children:[Object(c.jsx)(f,{}),Object(c.jsx)(b,{})]}):Object(c.jsx)(m,{hasUser:a})})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,120)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),a(e),i(e)}))};o.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(g,{})}),document.getElementById("root")),O()},61:function(e,t,n){},62:function(e,t,n){},92:function(e,t,n){}},[[119,1,2]]]);
//# sourceMappingURL=main.ed235981.chunk.js.map